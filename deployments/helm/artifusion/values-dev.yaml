# Development environment values
# Small storage sizes, no TLS, path-based routing

artifusion:
  replicaCount: 1

  image:
    repository: artifusion
    tag: latest
    pullPolicy: Never

  config:
    logging:
      level: "debug"
      format: "console"
      force_color: true

  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

  autoscaling:
    enabled: false

  podDisruptionBudget:
    enabled: false

  serviceMonitor:
    enabled: false

ociRegistry:
  storage:
    size: 1Gi

  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 200m
      memory: 512Mi

  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 1000
    fsGroup: 1000

  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop: ["ALL"]

registry:
  storage:
    size: 1Gi

  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 1000
    fsGroup: 1000

  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop: ["ALL"]

reposilite:
  storage:
    size: 1Gi

  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 500m
      memory: 1Gi

  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 1000
    fsGroup: 1000

  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop: ["ALL"]

verdaccio:
  storage:
    size: 1Gi

  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 10001
    fsGroup: 65533

  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop: ["ALL"]

ingress:
  enabled: true
  className: nginx
  hosts:
    - host: lvh.me
      paths:
        - path: /v2
          pathType: Prefix
        - path: /maven
          pathType: Prefix
        - path: /npm
          pathType: Prefix
  tls: []
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size: "0"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "600"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "600"
    nginx.ingress.kubernetes.io/proxy-buffering: "off"
    nginx.ingress.kubernetes.io/ssl-redirect: "false"

networkPolicy:
  enabled: false
