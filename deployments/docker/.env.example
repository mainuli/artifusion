# Artifusion Docker Deployment Configuration
# Copy this file to .env and configure your settings
#
# IMPORTANT: This file contains Docker Compose variables that are passed to containers.
# For direct Artifusion configuration, see docs/ENVIRONMENT_VARIABLES.md for ARTIFUSION_* variables.

# ============================================
# GitHub Authentication
# ============================================

# GitHub Personal Access Token for proxying GitHub Packages
# Required scopes: read:packages
# Get token at: https://github.com/settings/tokens
# NOTE: This is used by Reposilite and OCI Registry backends
GITHUB_PACKAGES_TOKEN=

# Optional: Restrict access to specific GitHub organization
# Leave empty to allow any authenticated GitHub user
# Maps to: ARTIFUSION_GITHUB_REQUIREDORG
GITHUB_ORG=

# Optional: Restrict to specific teams within the organization
# Only checked if GITHUB_ORG is set. Comma-separated list.
# Maps to: ARTIFUSION_GITHUB_REQUIREDTEAMS
GITHUB_TEAMS=

# GitHub authentication cache TTL (reduces API calls)
# Format: 30m, 1h, 24h
# Maps to: ARTIFUSION_GITHUB_AUTHCACHETTL
AUTH_CACHE_TTL=30m

# ============================================
# Backend Authentication (With-Auth Mode Only)
# ============================================

# Docker Registry Credentials
# Required only for docker-compose.with-auth.yml
DOCKER_REGISTRY_USERNAME=artifusion
DOCKER_REGISTRY_PASSWORD=

# Reposilite Tokens
# Required only for docker-compose.with-auth.yml
# Generate with: openssl rand -hex 32
REPOSILITE_ADMIN_TOKEN=
REPOSILITE_WRITE_TOKEN=
REPOSILITE_READ_TOKEN=

# Verdaccio Credentials
# Required only for docker-compose.with-auth.yml
VERDACCIO_USERNAME=artifusion
VERDACCIO_PASSWORD=

# ============================================
# Upstream Registry Credentials (Optional)
# ============================================

# Credentials for private upstream registries
# JSON format with registry credentials
# Example:
# UPSTREAM_CREDENTIALS={"ghcr.io": {"username": "user", "password": "token"}}
UPSTREAM_CREDENTIALS=

# ============================================
# Logging Configuration
# ============================================

# Artifusion log level: debug, info, warn, error
# Maps to: ARTIFUSION_LOGGING_LEVEL
LOG_LEVEL=info

# Artifusion log format: json, console
# Maps to: ARTIFUSION_LOGGING_FORMAT
LOG_FORMAT=console

# Verdaccio log level: http, debug, info, warn, error
# Used only by Verdaccio container
VERDACCIO_LOG_LEVEL=info

# ============================================
# Development/Testing (Optional)
# ============================================

# Enable debug mode
# DEBUG=true

# Custom Artifusion build arguments (if rebuilding)
# BUILD_VERSION=latest

# ============================================
# Advanced Configuration
# ============================================

# For advanced Artifusion configuration, you can use ARTIFUSION_* environment variables
# to override any config file value. Examples:
#
# Override server port:
# ARTIFUSION_SERVER_PORT=3000
#
# Override Maven path prefix:
# ARTIFUSION_PROTOCOLS_MAVEN_PATHPREFIX=/m2
#
# Override rate limiting:
# ARTIFUSION_RATELIMIT_REQUESTSPERSEC=5000.0
#
# See complete reference: docs/ENVIRONMENT_VARIABLES.md
